{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Lenovo/Documents/node/lennitaFront/LennitaBB/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Lenovo\\\\Documents\\\\node\\\\lennitaFront\\\\LennitaBB\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React from\"react\";import{useLocation,useNavigate,useParams}from\"react-router-dom\";import{useFormik}from\"formik\";import*as Yup from\"yup\";import{FaDollarSign}from\"react-icons/fa\";import{HiChevronDoubleLeft}from\"react-icons/hi\";import{useDispatch,useSelector}from\"react-redux\";import{updateProduct}from\"../../store/actions/products-actions\";import swal from\"sweetalert\";import TheSpinner from'../../layout/TheSpinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductUpdate=function ProductUpdate(){var _useParams=useParams(),productId=_useParams.productId;var navigate=useNavigate();var location=useLocation();var product=location.state.product;var token=useSelector(function(state){return state.auth.token;});var loading=useSelector(function(state){return state.ui.updateProductLoading;});var dispatch=useDispatch();var formik=useFormik({initialValues:{name:product.name,description:product.description,price:product.price,category:product.category,brand:product.brand,shipping:product.shipping,sku:product.sku},validationSchema:Yup.object({name:Yup.string().required(\"Required\"),description:Yup.string().required(\"Required\"),price:Yup.number().required(\"Required\"),category:Yup.string().required(\"Required\"),brand:Yup.string().required(\"Required\")}),onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return dispatch(updateProduct({product:values,id:productId,token:token}));case 3:swal({title:\"Product Updated!\",text:\"Product: \".concat(values.name,\" UPDATED!\"),icon:\"success\",button:\"OK!\"});_context.next=8;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));function onSubmit(_x){return _onSubmit.apply(this,arguments);}return onSubmit;}()});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-4 my-8\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"px-4 py-2 text-lg uppercase tracking-widest bg-secondary-100 text-white rounded-lg drop-shadow-lg\",onClick:function onClick(){return navigate(-1);},children:[/*#__PURE__*/_jsxs(\"span\",{className:\"mr-2 inline-block\",children:[/*#__PURE__*/_jsx(HiChevronDoubleLeft,{}),\" \"]}),\" \",\"Back to products\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex m-4 p-8 bg-white shadow-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-3/4\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-1 mb-8\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"tracking-wider\",children:\"Product name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",id:\"name\",onChange:formik.handleChange,onBlur:formik.handleBlur,value:formik.values.name,className:\"form-input rounded w-full bg-gray-100\",placeholder:\"Enter product name\"}),formik.touched.name&&formik.errors.name&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-red-500\",children:formik.errors.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-1 mb-8\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"tracking-wider\",children:\"Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",id:\"description\",onChange:formik.handleChange,onBlur:formik.handleBlur,value:formik.values.description,className:\"form-textarea w-full h-52 bg-gray-100 rounded-md\",placeholder:\"Product description\"}),formik.touched.description&&formik.errors.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-red-500\",children:formik.errors.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-1 mb-8\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price\",className:\"tracking-wider\",children:\"Price:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"flex items-center justify-center border border-gray-300 border-r-0 py-2 px-3 bg-gray-300 text-black\",children:/*#__PURE__*/_jsx(FaDollarSign,{})}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price\",id:\"price\",step:\"any\",min:\"0\",onChange:formik.handleChange,onBlur:formik.handleBlur,value:formik.values.price,className:\"form-input rounded-r w-full bg-gray-100\",placeholder:\"Product price\"})]}),formik.touched.price&&formik.errors.price&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-red-500\",children:formik.errors.price})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-1 mb-8\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",className:\"tracking-wider\",children:\"Category:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",id:\"category\",onChange:formik.handleChange,onBlur:formik.handleBlur,value:formik.values.category,className:\"form-select bg-gray-100\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\"}),/*#__PURE__*/_jsx(\"option\",{value:\"desktop\",children:\"Desktop\"}),/*#__PURE__*/_jsx(\"option\",{value:\"laptop\",children:\"Laptop\"}),/*#__PURE__*/_jsx(\"option\",{value:\"printer\",children:\"Printer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"scanner\",children:\"Scanner\"}),/*#__PURE__*/_jsx(\"option\",{value:\"tablet\",children:\"Tablet\"}),/*#__PURE__*/_jsx(\"option\",{value:\"monitor\",children:\"Monitor\"})]}),formik.touched.category&&formik.errors.category&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-red-500\",children:formik.errors.category})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-1 mb-8\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"brand\",className:\"tracking-wider mb-3\",children:\"Brand:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"brand\",id:\"apple\",value:\"apple\",onChange:formik.getFieldProps(\"brand\").onChange,className:\"form-radio\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"apple\",className:\"tracking-widest\",children:\"Apple\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"brand\",id:\"dell\",value:\"dell\",onChange:formik.getFieldProps(\"brand\").onChange,className:\"form-radio\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"dell\",className:\"tracking-widest\",children:\"Dell\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"brand\",id:\"hp\",value:\"hp\",onChange:formik.getFieldProps(\"brand\").onChange,className:\"form-radio\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"hp\",className:\"tracking-widest\",children:\"HP\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"brand\",id:\"samsung\",value:\"samsung\",onChange:formik.getFieldProps(\"brand\").onChange,className:\"form-radio\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"samsung\",className:\"tracking-widest\",children:\"Samsung\"})]})]}),formik.touched.brand&&formik.errors.brand&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-red-500\",children:formik.errors.brand})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-8\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"shipping\",id:\"shipping\",onChange:function onChange(){return formik.setFieldValue('shipping',!formik.values.shipping);},value:formik.values.shipping,className:\"form-checkbox\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"shipping\",className:\"tracking-wider\",children:\"Free shipping\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),loading?/*#__PURE__*/_jsx(TheSpinner,{}):/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 block my-12 ml-auto font-bold uppercase text-secondary-100 border border-secondary-100 hover:text-white hover:bg-secondary-100 rounded-md\",children:\"Update Product\"})]})})})]});};export default ProductUpdate;","map":{"version":3,"sources":["C:/Users/Lenovo/Documents/node/lennitaFront/LennitaBB/src/components/dashboard/ProductUpdate.jsx"],"names":["React","useLocation","useNavigate","useParams","useFormik","Yup","FaDollarSign","HiChevronDoubleLeft","useDispatch","useSelector","updateProduct","swal","TheSpinner","ProductUpdate","productId","navigate","location","product","state","token","auth","loading","ui","updateProductLoading","dispatch","formik","initialValues","name","description","price","category","brand","shipping","sku","validationSchema","object","string","required","number","onSubmit","values","id","title","text","icon","button","handleSubmit","handleChange","handleBlur","touched","errors","getFieldProps","onChange","setFieldValue"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { FaDollarSign } from \"react-icons/fa\";\r\nimport { HiChevronDoubleLeft } from \"react-icons/hi\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { updateProduct } from \"../../store/actions/products-actions\";\r\nimport swal from \"sweetalert\";\r\nimport TheSpinner from '../../layout/TheSpinner';\r\n\r\n\r\nconst ProductUpdate = () => {\r\n  const { productId } = useParams();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { product } = location.state;\r\n  const token = useSelector((state) => state.auth.token);\r\n  const loading = useSelector((state) => state.ui.updateProductLoading);\r\n  const dispatch = useDispatch();\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      name: product.name,\r\n      description: product.description,\r\n      price: product.price,\r\n      category: product.category,\r\n      brand: product.brand,\r\n      shipping: product.shipping,\r\n      sku: product.sku,\r\n    },\r\n    validationSchema: Yup.object({\r\n      name: Yup.string().required(\"Required\"),\r\n      description: Yup.string().required(\"Required\"),\r\n      price: Yup.number().required(\"Required\"),\r\n      category: Yup.string().required(\"Required\"),\r\n      brand: Yup.string().required(\"Required\"),\r\n    }),\r\n    onSubmit: async (values) => {\r\n      \r\n      try {\r\n        await dispatch(updateProduct({ product: values, id: productId, token }));\r\n        swal({\r\n          title: \"Product Updated!\",\r\n          text: `Product: ${values.name} UPDATED!`,\r\n          icon: \"success\",\r\n          button: \"OK!\",\r\n        });\r\n        \r\n      } catch (error) {\r\n        \r\n      }\r\n      \r\n    },\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"mx-4 my-8\">\r\n        <button\r\n          className=\"px-4 py-2 text-lg uppercase tracking-widest bg-secondary-100 text-white rounded-lg drop-shadow-lg\"\r\n          onClick={() => navigate(-1)}\r\n        >\r\n          <span className=\"mr-2 inline-block\">{<HiChevronDoubleLeft />} </span>{\" \"}\r\n          Back to products\r\n        </button>\r\n      </div>\r\n      <div className=\"flex m-4 p-8 bg-white shadow-lg\">\r\n        <div className=\"w-3/4\">\r\n          <form onSubmit={formik.handleSubmit}>\r\n            {/* name input */}\r\n            <div className=\"flex flex-col space-y-1 mb-8\">\r\n              <label htmlFor=\"name\" className=\"tracking-wider\">\r\n                Product name:\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                id=\"name\"\r\n                onChange={formik.handleChange}\r\n                onBlur={formik.handleBlur}\r\n                value={formik.values.name}\r\n                className=\"form-input rounded w-full bg-gray-100\"\r\n                placeholder=\"Enter product name\"\r\n              />\r\n              {formik.touched.name && formik.errors.name && (\r\n                <p className=\"text-xs font-semibold text-red-500\">\r\n                  {formik.errors.name}\r\n                </p>\r\n              )}\r\n            </div>\r\n            {/* description input */}\r\n            <div className=\"flex flex-col space-y-1 mb-8\">\r\n              <label htmlFor=\"description\" className=\"tracking-wider\">\r\n                Description:\r\n              </label>\r\n              <textarea\r\n                name=\"description\"\r\n                id=\"description\"\r\n                onChange={formik.handleChange}\r\n                onBlur={formik.handleBlur}\r\n                value={formik.values.description}\r\n                className=\"form-textarea w-full h-52 bg-gray-100 rounded-md\"\r\n                placeholder=\"Product description\"\r\n              ></textarea>\r\n              {formik.touched.description && formik.errors.description && (\r\n                <p className=\"text-xs font-semibold text-red-500\">\r\n                  {formik.errors.description}\r\n                </p>\r\n              )}\r\n            </div>\r\n            {/* price input */}\r\n            <div className=\"flex flex-col space-y-1 mb-8\">\r\n              <label htmlFor=\"price\" className=\"tracking-wider\">\r\n                Price:\r\n              </label>\r\n              <div className=\"flex\">\r\n                <span className=\"flex items-center justify-center border border-gray-300 border-r-0 py-2 px-3 bg-gray-300 text-black\">\r\n                  <FaDollarSign />\r\n                </span>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"price\"\r\n                  id=\"price\"\r\n                  step=\"any\"\r\n                  min=\"0\"\r\n                  onChange={formik.handleChange}\r\n                  onBlur={formik.handleBlur}\r\n                  value={formik.values.price}\r\n                  className=\"form-input rounded-r w-full bg-gray-100\"\r\n                  placeholder=\"Product price\"\r\n                />\r\n              </div>\r\n              {formik.touched.price && formik.errors.price && (\r\n                <p className=\"text-xs font-semibold text-red-500\">\r\n                  {formik.errors.price}\r\n                </p>\r\n              )}\r\n            </div>\r\n            {/* category input */}\r\n            <div className=\"flex flex-col space-y-1 mb-8\">\r\n              <label htmlFor=\"category\" className=\"tracking-wider\">\r\n                Category:\r\n              </label>\r\n              <select\r\n                name=\"category\"\r\n                id=\"category\"\r\n                onChange={formik.handleChange}\r\n                onBlur={formik.handleBlur}\r\n                value={formik.values.category}\r\n                className=\"form-select bg-gray-100\"\r\n              >\r\n                <option value=\"\"></option>\r\n                <option value=\"desktop\">Desktop</option>\r\n                <option value=\"laptop\">Laptop</option>\r\n                <option value=\"printer\">Printer</option>\r\n                <option value=\"scanner\">Scanner</option>\r\n                <option value=\"tablet\">Tablet</option>\r\n                <option value=\"monitor\">Monitor</option>\r\n              </select>\r\n              {formik.touched.category && formik.errors.category && (\r\n                <p className=\"text-xs font-semibold text-red-500\">\r\n                  {formik.errors.category}\r\n                </p>\r\n              )}\r\n            </div>\r\n            {/* brand input */}\r\n            <div className=\"flex flex-col space-y-1 mb-8\">\r\n              <label htmlFor=\"brand\" className=\"tracking-wider mb-3\">\r\n                Brand:\r\n              </label>\r\n              <div className=\"flex justify-between items-center\">\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"brand\"\r\n                    id=\"apple\"\r\n                    value=\"apple\"\r\n                    onChange={formik.getFieldProps(\"brand\").onChange}\r\n                    className=\"form-radio\"\r\n                  />\r\n                  <label htmlFor=\"apple\" className=\"tracking-widest\">\r\n                    Apple\r\n                  </label>\r\n                </div>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"brand\"\r\n                    id=\"dell\"\r\n                    value=\"dell\"\r\n                    onChange={formik.getFieldProps(\"brand\").onChange}\r\n                    className=\"form-radio\"\r\n                  />\r\n                  <label htmlFor=\"dell\" className=\"tracking-widest\">\r\n                    Dell\r\n                  </label>\r\n                </div>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"brand\"\r\n                    id=\"hp\"\r\n                    value=\"hp\"\r\n                    onChange={formik.getFieldProps(\"brand\").onChange}\r\n                    className=\"form-radio\"\r\n                  />\r\n                  <label htmlFor=\"hp\" className=\"tracking-widest\">\r\n                    HP\r\n                  </label>\r\n                </div>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"brand\"\r\n                    id=\"samsung\"\r\n                    value=\"samsung\"\r\n                    onChange={formik.getFieldProps(\"brand\").onChange}\r\n                    className=\"form-radio\"\r\n                  />\r\n                  <label htmlFor=\"samsung\" className=\"tracking-widest\">\r\n                    Samsung\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              {formik.touched.brand && formik.errors.brand && (\r\n                <p className=\"text-xs font-semibold text-red-500\">\r\n                  {formik.errors.brand}\r\n                </p>\r\n              )}\r\n            </div>\r\n            {/* shipping input */}\r\n            <div className=\"flex items-center space-x-3 mb-8\">\r\n              <input\r\n                type=\"checkbox\"\r\n                name=\"shipping\"\r\n                id=\"shipping\"\r\n                onChange={() => formik.setFieldValue('shipping', !formik.values.shipping)}\r\n                value={formik.values.shipping}\r\n                className=\"form-checkbox\"\r\n              />\r\n              <label htmlFor=\"shipping\" className=\"tracking-wider\">\r\n                Free shipping\r\n              </label>\r\n            </div>\r\n            <hr />\r\n            {loading ? <TheSpinner /> : \r\n            <button\r\n              type=\"submit\"\r\n              className=\"px-4 py-2 block my-12 ml-auto font-bold uppercase text-secondary-100 border border-secondary-100 hover:text-white hover:bg-secondary-100 rounded-md\"\r\n            >\r\n              Update Product\r\n            </button>\r\n            }\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductUpdate;\r\n"]},"metadata":{},"sourceType":"module"}