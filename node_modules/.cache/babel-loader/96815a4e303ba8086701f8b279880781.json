{"ast":null,"code":"import _defineProperty from\"C:/Users/Lenovo/Documents/node/lennitaFront/LennitaBB/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Lenovo/Documents/node/lennitaFront/LennitaBB/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect}from\"react\";import{productsActions}from\"../../store/products-slice\";import{useDispatch,useSelector}from\"react-redux\";import{BRANDS,CATEGORIES}from\"../utils/constants\";import{formatPrice}from'../../utils/helpers';// const initialFilters = {\n//   search: '',\n//   category: 'all',\n//   company: 'all',\n//   price: 0,\n//   shipping: false\n// };\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Filters=function Filters(_ref){var filters=_ref.filters;var dispatch=useDispatch();var minPrice=useSelector(function(state){return state.products.minPrice;});var maxPrice=useSelector(function(state){return state.products.maxPrice;});// const [filters, setFilters] = useState({\n//   ...initialFilters,\n//   'price': maxPrice\n// });\n// const [filters, setFilters] = useState(props.filters);\nvar updateFilters=function updateFilters(e){var name=e.target.name;var value=e.target.value;if(name==='category'){value=e.target.textContent;}if(name==='company'){value=e.target.value.toLowerCase();}if(name==='price'){value=Number(value);}if(name==='shipping'){value=e.target.checked;}// setFilters({\n//   ...filters,\n//   [e.target.name]: value\n// });\ndispatch(productsActions.setFilters(_objectSpread(_objectSpread({},filters),{},_defineProperty({},e.target.name,value))));};var clearFilters=function clearFilters(){dispatch(productsActions.clearFilter());};useEffect(function(){dispatch(productsActions.filterProducts(filters));},[dispatch,filters]);return/*#__PURE__*/_jsxs(\"div\",{className:\"sticky top-0\",children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"search\",value:filters.text,placeholder:\"search\",onChange:updateFilters,className:\"form-input rounded-lg bg-gray-200 border-0 pr-0\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-1 font-bold capitalize text-lg\",children:\"category\"}),CATEGORIES.map(function(c,index){return/*#__PURE__*/_jsx(\"button\",{type:\"button\",name:\"category\",onClick:updateFilters// className=\"block py-1 capitalize text-gray-600\"\n,className:\"block py-1 capitalize text-gray-600 \".concat(filters.category===c?'border-b-2 border-primary':''),children:c},index);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-2 font-bold capitalize text-lg\",children:\"company\"}),/*#__PURE__*/_jsx(\"select\",{name:\"company\",className:\"form-select rounded cursor-pointer bg-gray-200 border-0 py-1\",onChange:updateFilters,children:BRANDS.map(function(c,index){return/*#__PURE__*/_jsx(\"option\",{value:c,children:c},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-1 font-bold capitalize text-lg\",children:\"price\"}),/*#__PURE__*/_jsx(\"p\",{className:\"italic\",children:formatPrice(filters.price)}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",name:\"price\",id:\"price\",onChange:updateFilters,min:minPrice,max:maxPrice,value:filters.price,className:\"form-range\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Free Shipping\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"shipping\",id:\"shipping\",checked:filters.shipping,onChange:updateFilters,className:\"form-checkbox cursor-pointer ml-2\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"bg-primary text-white px-2 py-1 rounded-md font-semibold shadow-md\",onClick:clearFilters,children:\"Clear Filters\"})]});};export default Filters;","map":{"version":3,"sources":["C:/Users/Lenovo/Documents/node/lennitaFront/LennitaBB/src/components/products/Filters.jsx"],"names":["React","useEffect","productsActions","useDispatch","useSelector","BRANDS","CATEGORIES","formatPrice","Filters","filters","dispatch","minPrice","state","products","maxPrice","updateFilters","e","name","target","value","textContent","toLowerCase","Number","checked","setFilters","clearFilters","clearFilter","filterProducts","text","map","c","index","category","price","shipping"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { productsActions } from \"../../store/products-slice\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { BRANDS, CATEGORIES } from \"../utils/constants\";\r\nimport { formatPrice } from '../../utils/helpers';\r\n\r\n// const initialFilters = {\r\n//   search: '',\r\n//   category: 'all',\r\n//   company: 'all',\r\n//   price: 0,\r\n//   shipping: false\r\n// };\r\n\r\nconst Filters = ({ filters }) => {\r\n  const dispatch = useDispatch();\r\n  const minPrice = useSelector(state => state.products.minPrice);\r\n  const maxPrice = useSelector((state) => state.products.maxPrice);\r\n  // const [filters, setFilters] = useState({\r\n  //   ...initialFilters,\r\n  //   'price': maxPrice\r\n  // });\r\n\r\n  // const [filters, setFilters] = useState(props.filters);\r\n\r\n  const updateFilters = (e) => {\r\n    let name = e.target.name;\r\n    let value = e.target.value;\r\n    if(name === 'category') {\r\n      value = e.target.textContent;\r\n    }\r\n    if (name === 'company') {\r\n      value = e.target.value.toLowerCase()\r\n    }\r\n    if (name === 'price') {\r\n      value = Number(value);\r\n    }\r\n    if (name === 'shipping') {\r\n      value = e.target.checked;\r\n    }\r\n    // setFilters({\r\n    //   ...filters,\r\n    //   [e.target.name]: value\r\n    // });\r\n    dispatch(productsActions.setFilters({\r\n      ...filters,\r\n      [e.target.name]: value\r\n    }));\r\n  };\r\n\r\n\r\n  const clearFilters = () => {\r\n    dispatch(productsActions.clearFilter());\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(productsActions.filterProducts(filters));\r\n  }, [dispatch, filters]);\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"sticky top-0\">\r\n      <form>\r\n        {/* search input */}\r\n        <div className=\"mb-4\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"search\"\r\n            value={filters.text}\r\n            placeholder=\"search\"\r\n            onChange={updateFilters}\r\n            className=\"form-input rounded-lg bg-gray-200 border-0 pr-0\"\r\n          />\r\n        </div>\r\n        {/* category */}\r\n        <div className=\"mb-6\">\r\n          <h4 className=\"mb-1 font-bold capitalize text-lg\">category</h4>\r\n          {CATEGORIES.map((c, index) => {\r\n            return (\r\n              <button\r\n                key={index}\r\n                type=\"button\"\r\n                name=\"category\"\r\n                onClick={updateFilters}\r\n                // className=\"block py-1 capitalize text-gray-600\"\r\n                className={`block py-1 capitalize text-gray-600 ${filters.category === c ? 'border-b-2 border-primary' : ''}`}\r\n              >\r\n                {c}\r\n              </button>\r\n            );\r\n          })}\r\n        </div>\r\n        {/* company */}\r\n        <div className=\"mb-6\">\r\n          <h4 className=\"mb-2 font-bold capitalize text-lg\">company</h4>\r\n          <select name=\"company\" className=\"form-select rounded cursor-pointer bg-gray-200 border-0 py-1\" onChange={updateFilters} >\r\n            {BRANDS.map((c, index) => {\r\n              return (\r\n                <option key={index} value={c} >\r\n                  {c}\r\n                </option>\r\n              );\r\n            })}\r\n          </select>\r\n        </div>\r\n        {/* price */}\r\n        <div className=\"mb-6\">\r\n          <h4 className=\"mb-1 font-bold capitalize text-lg\">price</h4>\r\n          <p className=\"italic\">{formatPrice(filters.price)}</p>\r\n          <input\r\n            type=\"range\"\r\n            name=\"price\"\r\n            id=\"price\"\r\n            onChange={updateFilters}\r\n            min={minPrice}\r\n            max={maxPrice}\r\n            value={filters.price}\r\n            className=\"form-range\"\r\n          />\r\n        </div>\r\n        {/* shipping */}\r\n        <div className=\"mb-6\">\r\n          <label htmlFor=\"\">Free Shipping</label>\r\n          <input\r\n            type=\"checkbox\"\r\n            name=\"shipping\"\r\n            id=\"shipping\"\r\n            checked={filters.shipping}\r\n            onChange={updateFilters}\r\n            className=\"form-checkbox cursor-pointer ml-2\"\r\n          />\r\n        </div>\r\n      </form>\r\n      <button\r\n        type=\"button\"\r\n        className=\"bg-primary text-white px-2 py-1 rounded-md font-semibold shadow-md\"\r\n        onClick={clearFilters}\r\n      >\r\n        Clear Filters\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filters;\r\n"]},"metadata":{},"sourceType":"module"}